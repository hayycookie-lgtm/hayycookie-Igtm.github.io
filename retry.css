body { margin: 0; background: black; font-family: 'VT323', monospace; overflow: hidden; }

#introPage { 
  width: 960px; 
  height: 540px; 
  display: flex; 
  justify-content: center; 
  align-items: center; 
  transition: opacity 1.5s ease-in-out; /* Prepared for fade */
}

/* FADE CLASS */
.fade-out-active {
    opacity: 0 !important;
    pointer-events: none;
}

#introBox {
  width: 900px; 
  height: 504px; 
  border: 4px solid #ff80c8; 
  box-shadow: 0 0 20px #ff80c8;
  background: black; 
  position: relative; 
  overflow: hidden; 
  display: flex; 
  flex-direction: column;
  margin-top: -1px; 
}

#bgOverlay {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: url('pink_stars.jpeg') center/cover no-repeat; opacity: 0.7; z-index: 0;
}

#topRectangle {
  width: 100%; background: #fff0f3; display: flex; align-items: center;
  padding: 5px 10px; box-sizing: border-box; gap: 15px; position: relative; z-index: 5;
}

#statusCircles { display: flex; gap: 5px; z-index: 1; }
.redCircle, .greenCircle { width: 15px; height: 15px; border-radius: 50%; display: inline-block; }
.redCircle { background: #cc0000; }
.greenCircle { background: #009900; }

#tabs { display: flex; gap: 10px; z-index: 1; }
.tab { font-size: 16px; color: #e60099; border: 2px solid #e60099; border-radius: 8px; padding: 3px 8px; cursor: pointer; background: transparent; }

#searchContainer {
  width: 100%; display: flex; align-items: center; padding: 10px 20px;
  box-sizing: border-box; gap: 10px; position: relative; z-index: 5;
}

#navIcons { display: flex; gap: 8px; }
.navIcon { 
  font-size: 18px; color: #ff80c8; border: 1px solid #ff80c8; border-radius: 4px; 
  padding: 2px 6px; cursor: pointer; display: inline-block; line-height: 1;
}

#searchBar { flex: 1; padding: 5px 15px; font-size: 16px; border: 2px solid #ff80c8; border-radius: 4px; background: black; color: #ff80c8; outline: none; }

#siteNav {
    width: 100%; display: flex; justify-content: space-around; padding: 8px 0;
    position: relative; z-index: 5; margin-top: 0px;
}
.s-tab { color: white; font-size: 18px; text-shadow: 0 0 5px #ff80c8; cursor: pointer; }

#msgTab {
    color: #ff80c8;
    text-shadow: 0 0 10px #ff80c8, 0 0 20px #ff80c8;
    font-weight: bold;
}

#chatArea { flex: 1; overflow: hidden; display: flex; flex-direction: column; position: relative; z-index: 1; }
#chatContent { flex: 1; overflow-y: auto; padding: 20px 25px; scrollbar-width: thin; scrollbar-color: #ff80c8 transparent; }
#chatContent::-webkit-scrollbar { width: 6px; }
#chatContent::-webkit-scrollbar-thumb { background: #ff80c8; border-radius: 10px; }

.message-row { display: flex; align-items: flex-start; margin-bottom: 20px; gap: 12px; }
.stacy-row { justify-content: flex-end; }

.luna-avatar, .stacy-avatar { width: 45px; height: 45px; border-radius: 50%; border: 2px solid #ff80c8; object-fit: cover; flex-shrink: 0; }

.luna-bubble { max-width: 70%; padding: 12px 18px; border-radius: 18px; color: white; background: linear-gradient(to bottom, #ff6adf, #ff2f8f); box-shadow: 0 4px #b81f67; font-family: Arial; font-size: 14px; }
.stacy-bubble { max-width: 70%; padding: 12px 18px; border-radius: 18px; background: white; color: #e60099; box-shadow: 0 4px #ff80c8; border: 1px solid #ff80c8; font-family: Arial; font-size: 14px; }

.luna-name, .stacy-name { display: block; font-family: 'Orbitron'; font-size: 10px; font-weight: 700; margin-bottom: 5px; text-transform: lowercase; }
.stacy-name { text-align: right; }

#bottomUI { position: relative; z-index: 5; padding-bottom: 20px; }
#choiceArea { display: flex; justify-content: center; gap: 15px; margin-bottom: 10px; }
.btn-choice { padding: 6px 15px; font-family: 'VT323'; font-size: 18px; background: #fff0f3; color: #e60099; border: 2px solid #ff80c8; border-radius: 10px; cursor: pointer; }

#bottomBar { display: flex; align-items: center; gap: 15px; padding: 0 25px; }
.icon-btn { color: #ff80c8; width: 28px; filter: drop-shadow(0 0 5px #ff80c8); }
#inputPill { flex: 1; border: 2px solid #ff80c8; border-radius: 30px; height: 40px; background: rgba(0,0,0,0.4); display: flex; align-items: center; padding: 0 15px; }
#fakePlaceholder { color: #8a5c75; font-size: 20px; }
#blinkingCursor { color: #ff80c8; animation: cursorBlink 1s step-end infinite; }

@keyframes cursorBlink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

/* ALERT STYLES */
#alertOverlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.7); 
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
}

.window-stack { position: relative; width: 480px; height: 240px; }
.alert-window { position: absolute; width: 100%; height: 100%; background: #ffc0da; border: 2px solid #000; }
.main-window { box-shadow: 0 0 15px #ff80c8, 0 0 5px #ff80c8; z-index: 2; }
.glitch-bg-1 { top: -6px; left: -6px; opacity: 0.3; border-color: #ff80c8; z-index: 1; }

.window-header {
    background: #000000; color: #ffffff; padding: 8px 12px;
    display: flex; align-items: center; font-family: 'Orbitron', sans-serif;
}

.header-title { font-size: 14px; text-transform: uppercase; letter-spacing: 1px; }
.window-body { padding: 25px; color: #000; font-family: 'VT323', monospace; }
.alert-content { display: flex; align-items: center; gap: 20px; margin-bottom: 25px; }

.warning-icon {
    font-size: 50px; color: #ff80c8; font-weight: bold;
    border: 3px solid #ff80c8; padding: 0 15px; border-radius: 4px;
}

.text-area p { margin: 5px 0; font-size: 20px; line-height: 1.1; }
.button-row { display: flex; justify-content: center; }

/* UPDATED BUTTON WITH HOVER EFFECT */
.try-again-btn {
    background: #ff80c8; color: white; border: none; padding: 10px 45px;
    font-family: 'VT323'; font-size: 24px; cursor: pointer;
    box-shadow: 4px 4px 0px #99004d; transition: background 0.2s, transform 0.1s, box-shadow 0.1s;
}

.try-again-btn:hover {
    background: #d64593; /* Darker pink on hover */
    box-shadow: 4px 4px 0px #7a003e; /* Darker shadow on hover */
}

.try-again-btn:active { transform: translate(2px, 2px); box-shadow: 1px 1px 0px #7a003e; }